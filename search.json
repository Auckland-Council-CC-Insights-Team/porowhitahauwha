[{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 porowhitahauwha authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Lee Durbin. Author, maintainer. Auckland Council. Copyright holder.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Durbin L (2022). porowhitahauwha: Interact Data Facilities Partners Within Connected Communities Portfolio. https://github.com/Auckland-Council-CC-Insights-Team/porowhitahauwha, https://auckland-council-cc-insights-team.github.io/porowhitahauwha/.","code":"@Manual{,   title = {porowhitahauwha: Interact With Data About Facilities And Partners Within The Connected Communities Portfolio},   author = {Lee Durbin},   year = {2022},   note = {https://github.com/Auckland-Council-CC-Insights-Team/porowhitahauwha, https://auckland-council-cc-insights-team.github.io/porowhitahauwha/}, }"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/index.html","id":"porowhitahauwha","dir":"","previous_headings":"","what":"Interact With Data About Facilities And Partners Within The Connected Communities Portfolio","title":"Interact With Data About Facilities And Partners Within The Connected Communities Portfolio","text":"porowhitahauwha goal porowhitahauwha provide code-based interface staff Auckland Council work Porowhita Hauwhā database. Porowhita Hauwhā database can thought quadrant information: contains data staff, partners, buildings, andservices fall within remit Connected Communities department Te Kunihera o Tāmaki Makaurau (Auckland Council). Porowhita hauwhā kupu (word) te Reo Māori means “quadrant”.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Interact With Data About Facilities And Partners Within The Connected Communities Portfolio","text":"can install development version porowhitahauwha GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"Auckland-Council-CC-Insights-Team/porowhitahauwha\")"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Interact With Data About Facilities And Partners Within The Connected Communities Portfolio","text":"basic example shows retrieve list asset-type facilities test database provided package: vignette written explain conceptual framework designed inform data modeled. define, technical parlance, asset, space, entity, three related.","code":"library(porowhitahauwha) get_assets(test_db = TRUE) #> # A tibble: 2 × 9 #>   facility_id name         physi…¹ local…² desig…³ deliv…⁴ facil…⁵ closed leased #>   <chr>       <chr>        <chr>   <chr>   <chr>   <chr>   <chr>   <lgl>  <lgl>  #> 1 A26         Buckland Co… Cnr Lo… Frankl… Rural … Commun… Privat… FALSE  FALSE  #> 2 A58         Franklin Th… 12 Mas… Frankl… Hybrid  Counci… <NA>    NA     NA     #> # … with abbreviated variable names ¹​physical_address, ²​local_board, #> #   ³​designation, ⁴​delivery_model, ⁵​facility_ownership"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/index.html","id":"terms-of-use","dir":"","previous_headings":"","what":"Terms of use","title":"Interact With Data About Facilities And Partners Within The Connected Communities Portfolio","text":"authorised kaimahi Auckland Council able access production database package provides code-based interface, anyone can freely use adapt code contained package purposes. package comes bundled test data, anyone can access use see fit. test data features data already publicly available elsewhere, information real individuals replaced fake data. may find help files test data tables useful tasked modelling similar data, example local government.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/connect_to_database.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a connection to Porowhita Hauwhā — connect_to_database","title":"Create a connection to Porowhita Hauwhā — connect_to_database","text":"Creates connection either live version test version Porowhita Hauwhā database. can used later function call stored object. connection live database read-.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/connect_to_database.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a connection to Porowhita Hauwhā — connect_to_database","text":"","code":"connect_to_database(test_db = FALSE)"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/connect_to_database.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a connection to Porowhita Hauwhā — connect_to_database","text":"test_db connection test database? Defaults FALSE.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/connect_to_database.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a connection to Porowhita Hauwhā — connect_to_database","text":"S4 object. object used communicate database engine, either live test.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/connect_to_database.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a connection to Porowhita Hauwhā — connect_to_database","text":"","code":"test_conn <- connect_to_database(test_db = TRUE) DBI::dbGetQuery(test_conn, \"SELECT * FROM assets\") #>    id                      name local_board          asset_type #> 1 A26 Buckland Community Centre    Franklin Standalone Building #> 2 A58       Franklin The Centre    Franklin Standalone Building #>               physical_address latitude longitude land_ownership image #> 1 Cnr Logan and Buckville Road       NA        NA             NA    NA #> 2             12 Massey Avenue       NA        NA             NA    NA"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/connect_to_production_database.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a connection to Porowhita Hauwhā — connect_to_production_database","title":"Create a connection to Porowhita Hauwhā — connect_to_production_database","text":"Creates read-connection live version Porowhita Hauwhā database.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/connect_to_production_database.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a connection to Porowhita Hauwhā — connect_to_production_database","text":"","code":"connect_to_production_database(read_only = TRUE)"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/connect_to_production_database.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a connection to Porowhita Hauwhā — connect_to_production_database","text":"read_only connection database read-(TRUE) (FALSE)? Default TRUE.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/connect_to_production_database.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a connection to Porowhita Hauwhā — connect_to_production_database","text":"S4 object. object used communicate database engine.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/connect_to_test_database.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a connection to a test version of Porowhita Hauwhā — connect_to_test_database","title":"Create a connection to a test version of Porowhita Hauwhā — connect_to_test_database","text":"Create connection test version Porowhita Hauwhā","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/connect_to_test_database.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a connection to a test version of Porowhita Hauwhā — connect_to_test_database","text":"","code":"connect_to_test_database()"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/connect_to_test_database.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a connection to a test version of Porowhita Hauwhā — connect_to_test_database","text":"S4 object. object used communicate database engine.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/connect_to_writable_database.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a connection to Porowhita Hauwhā — connect_to_writable_database","title":"Create a connection to Porowhita Hauwhā — connect_to_writable_database","text":"Creates connection either live version test version Porowhita Hauwhā database. can used later function call stored object. connection database read-, result one connection allowed time.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/connect_to_writable_database.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a connection to Porowhita Hauwhā — connect_to_writable_database","text":"","code":"connect_to_writable_database(test_db = FALSE)"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/connect_to_writable_database.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a connection to Porowhita Hauwhā — connect_to_writable_database","text":"test_db connection test database? Defaults FALSE.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/connect_to_writable_database.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a connection to Porowhita Hauwhā — connect_to_writable_database","text":"S4 object. object used communicate database engine, either live test.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/disconnect_from_database.html","id":null,"dir":"Reference","previous_headings":"","what":"Disconnect from the database — disconnect_from_database","title":"Disconnect from the database — disconnect_from_database","text":"Explicitly shuts database instance associated connection, conn.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/disconnect_from_database.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Disconnect from the database — disconnect_from_database","text":"","code":"disconnect_from_database(conn, test_db = FALSE, confirm = TRUE)"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/disconnect_from_database.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Disconnect from the database — disconnect_from_database","text":"conn database instance called using connect_to_database() test_db attempting disconnect test database? Defaults FALSE. confirm function print confirmation message console? Defaults TRUE.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/disconnect_from_database.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Disconnect from the database — disconnect_from_database","text":"optional confirmation statement printed console.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/disconnect_from_database.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Disconnect from the database — disconnect_from_database","text":"","code":"con <- connect_to_database(test_db = TRUE) disconnect_from_database(con, test_db = TRUE) #> [1] \"Disconnected from the test database.\""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_assets.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve a list of all assets — get_assets","title":"Retrieve a list of all assets — get_assets","text":"Retrieve list assets Porowhita Hauwhā. asset structure provides shelter public...","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_assets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve a list of all assets — get_assets","text":"","code":"get_assets(..., test_db = FALSE)"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_assets.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve a list of all assets — get_assets","text":"... Optional expressions filter asset list, defied terms variables returned tibble. test_db Retrieve data test database? Defaults FALSE.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_assets.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve a list of all assets — get_assets","text":"tibble eight variables.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_assets.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve a list of all assets — get_assets","text":"","code":"# Retrieve a list of assets that are classed as rural halls from the test database get_assets(designation == \"Rural Hall\", test_db = TRUE) #> # A tibble: 1 × 10 #>   facility…¹ facil…² name  physi…³ local…⁴ desig…⁵ deliv…⁶ facil…⁷ closed leased #>   <chr>      <chr>   <chr> <chr>   <chr>   <chr>   <chr>   <chr>   <lgl>  <lgl>  #> 1 A26        FA174   Buck… Cnr Lo… Frankl… Rural … Commun… Privat… FALSE  FALSE  #> # … with abbreviated variable names ¹​facility_id, ²​facility_attribute_id, #> #   ³​physical_address, ⁴​local_board, ⁵​designation, ⁶​delivery_model, #> #   ⁷​facility_ownership"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_entities.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve a list of all entities — get_entities","title":"Retrieve a list of all entities — get_entities","text":"Retrieve list entities Porowhita Hauwhā. entity construct, assigned Auckland Council, groups together assets, spaces, services.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_entities.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve a list of all entities — get_entities","text":"","code":"get_entities(..., test_db = FALSE)"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_entities.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve a list of all entities — get_entities","text":"... Optional expressions filter entities list, defied terms variables returned tibble. test_db Retrieve data test database? Defaults FALSE.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_entities.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve a list of all entities — get_entities","text":"tibble eight variables.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_entities.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve a list of all entities — get_entities","text":"","code":"# Retrieve a list of entities that are classed as Community Hubs from the test database get_entities(designation == \"Community Hub\", test_db = TRUE) #> # A tibble: 0 × 10 #> # … with 10 variables: facility_id <chr>, facility_attribute_id <chr>, #> #   name <chr>, physical_address <chr>, local_board <chr>, designation <chr>, #> #   delivery_model <chr>, facility_ownership <chr>, closed <lgl>, leased <lgl>"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_facilities.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve a list of all facilities — get_facilities","title":"Retrieve a list of all facilities — get_facilities","text":"Returns list facilities database, key information . information facilities classified database, please consult documentation accompanies test data.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_facilities.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve a list of all facilities — get_facilities","text":"","code":"get_facilities(..., test_db = FALSE)"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_facilities.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve a list of all facilities — get_facilities","text":"... List attribute-value pairs filter list returned facilities. test_db Retrieve data test database? Defaults FALSE.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_facilities.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve a list of all facilities — get_facilities","text":"tibble one facility per row, one column per attribute facility.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_facilities.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve a list of all facilities — get_facilities","text":"","code":"# Return a list of all community-led facilities in the database get_facilities(delivery_model == \"Community-led facility\", test_db = TRUE) #> # A tibble: 1 × 10 #>   facility…¹ facil…² name  physi…³ local…⁴ desig…⁵ deliv…⁶ facil…⁷ closed leased #>   <chr>      <chr>   <chr> <chr>   <chr>   <chr>   <chr>   <chr>   <lgl>  <lgl>  #> 1 A26        FA174   Buck… Cnr Lo… Frankl… Rural … Commun… Privat… FALSE  FALSE  #> # … with abbreviated variable names ¹​facility_id, ²​facility_attribute_id, #> #   ³​physical_address, ⁴​local_board, ⁵​designation, ⁶​delivery_model, #> #   ⁷​facility_ownership"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_file_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve the full path to a file in File Storage — get_file_path","title":"Retrieve the full path to a file in File Storage — get_file_path","text":"Reads .Renviron file get path team's SharePoint Document Library, sync'd local machine. Appends name file, thus returning full path file used elsewhere.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_file_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve the full path to a file in File Storage — get_file_path","text":"","code":"get_file_path(file_name)"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_file_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve the full path to a file in File Storage — get_file_path","text":"file_name name file retrieving full path.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_file_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve the full path to a file in File Storage — get_file_path","text":"character string containing file path.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Find Facility Names and Aliases in the Database — get_names","title":"Find Facility Names and Aliases in the Database — get_names","text":"Call function without passing arguments return entire content names table, otherwise filter table variables specific response.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find Facility Names and Aliases in the Database — get_names","text":"","code":"get_names(..., test_db = FALSE)"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find Facility Names and Aliases in the Database — get_names","text":"... Optional arguments passed get_names filter names returned. test_db Retrieve data test database (TRUE) (FALSE). Defaults FALSE.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_names.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find Facility Names and Aliases in the Database — get_names","text":"tibble.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_names.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Find Facility Names and Aliases in the Database — get_names","text":"","code":"# Search for a facility and return any aliases get_names(value == \"Buckland Community Centre\", test_db = TRUE) #> # A tibble: 2 × 4 #>   id    value                     role      facilities_attributes_id #>   <chr> <chr>                     <chr>     <chr>                    #> 1 1     Buckland Hall             alternate FA174                    #> 2 91    Buckland Community Centre primary   FA174"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_spaces.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve a list of all spaces — get_spaces","title":"Retrieve a list of all spaces — get_spaces","text":"Retrieve list spaces Porowhita Hauwhā. space area services delivered public, located within asset","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_spaces.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve a list of all spaces — get_spaces","text":"","code":"get_spaces(..., test_db = FALSE)"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_spaces.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve a list of all spaces — get_spaces","text":"... Optional expressions filter space list, defied terms variables returned tibble. test_db Retrieve data test database? Defaults FALSE.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_spaces.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve a list of all spaces — get_spaces","text":"tibble eight variables.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/get_spaces.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve a list of all spaces — get_spaces","text":"","code":"# Retrieve a list of spaces that are classed as community libraries from the test database get_spaces(designation == \"Community Library\", test_db = TRUE) #> # A tibble: 0 × 10 #> # … with 10 variables: facility_id <chr>, facility_attribute_id <chr>, #> #   name <chr>, physical_address <chr>, local_board <chr>, designation <chr>, #> #   delivery_model <chr>, facility_ownership <chr>, closed <lgl>, leased <lgl>"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/insert_change_log.html","id":null,"dir":"Reference","previous_headings":"","what":"Add An Item to the Facilities Change Log — insert_change_log","title":"Add An Item to the Facilities Change Log — insert_change_log","text":"Inserts new row facilities_attributes_bridge_table, changes various facilities tables recorded.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/insert_change_log.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add An Item to the Facilities Change Log — insert_change_log","text":"","code":"insert_change_log(   facility_attribute_id,   facility_type,   facility_id,   attribute,   value,   valid_from = NA,   valid_to = NA,   notes = NULL,   test_db = FALSE )"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/insert_change_log.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add An Item to the Facilities Change Log — insert_change_log","text":"facility_attribute_id value facility_attribute_id facility whose change recording. facility_type facility asset, space, entity? facility_id value facility_id field facility whose change recording attribute attribute, field name, affected change. value new value supplied facility. valid_from change take effect? valid_to change valid? notes Explanatory notes change, justification change, meaning change, /person authorised change. test_db change applied facility test database (TRUE) (FALSE)? Defaults FALSE.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/insert_change_log.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add An Item to the Facilities Change Log — insert_change_log","text":"tibble 1 row 9 columns showing log entry supplied recorded database.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/insert_change_log.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add An Item to the Facilities Change Log — insert_change_log","text":"","code":"change <- insert_change_log( facility_attribute_id = \"FA601\", facility_type = \"Space\", facility_id = \"S374\", attribute = \"bookable\", value = \"Y\", valid_from = Sys.Date(), notes = \"This room can now be booked by members of the public.\", test_db = TRUE )  change #>   id facility_attribute_id facility_type facility_id attribute value valid_from #> 1  2                 FA601         Space        S374  bookable     Y 2022-11-16 #>   valid_to                                                 notes #> 1     <NA> This room can now be booked by members of the public."},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/insert_name.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a new facility name to the database — insert_name","title":"Add a new facility name to the database — insert_name","text":"Given name ID facility facilities_attributes table, insert new record names table.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/insert_name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a new facility name to the database — insert_name","text":"","code":"insert_name(   new_name = NULL,   role = c(\"alternate\", \"primary\"),   facilities_attributes_id = NULL,   test_db = FALSE )"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/insert_name.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a new facility name to the database — insert_name","text":"new_name name facility added. role alternate name facility, primary name? Defaults alternate. facilities_attributes_id matching ID facilities_attributes table facility whose name supplied. test_db connection test database (TRUE) (FALSE)? Defaults FALSE.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/insert_name.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a new facility name to the database — insert_name","text":"tibble one row containing newly-added record.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/insert_name.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add a new facility name to the database — insert_name","text":"","code":"insert_name(     new_name = \"Hobbiton Hall\",     facilities_attributes_id = \"FA174\",     test_db = TRUE ) #>    id         value      role facilities_attributes_id #> 1 682 Hobbiton Hall alternate                    FA174"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/insert_partner.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a new partner into the database — insert_partner","title":"Add a new partner into the database — insert_partner","text":"supplied least name, create new record partner database.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/insert_partner.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a new partner into the database — insert_partner","text":"","code":"insert_partner(   name = NA,   type = c(\"Charitable Trust\", \"Incorporated Society\", \"Other\"),   facility_owner = TRUE,   service_provider = TRUE,   legal_status_number = NA,   test_db = FALSE )"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/insert_partner.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a new partner into the database — insert_partner","text":"name name partner added database. minimum information supplied. type partner Charitable Trust, Incorporated Society, ? Default Charitable Trust. facility_owner partner facility operate (TRUE) (FALSE)? Defaults TRUE. service_provider partner provide services (TRUE) (FALSE)? Defaults TRUE. legal_status_number Legal Status Number partner, available. test_db connection test database (TRUE) (FALSE)? Defaults FALSE.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/insert_partner.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a new partner into the database — insert_partner","text":"data frame one row containing newly-added entry.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/insert_partner.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add a new partner into the database — insert_partner","text":"","code":"insert_partner(name = \"Hobbiton Charitable Trust\", facility_owner = FALSE, test_db = TRUE) #>   id                      name             type facility_owner service_provider #> 1 P2 Hobbiton Charitable Trust Charitable Trust          FALSE             TRUE #>   legal_status_number #> 1                  NA"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/insert_record.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a new record into a database table — insert_record","title":"Add a new record into a database table — insert_record","text":"generic function inserting new record one tables database.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/insert_record.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a new record into a database table — insert_record","text":"","code":"insert_record(..., test_db = FALSE, new_id_prefix = NULL, tbl_name = NULL)"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/insert_record.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a new record into a database table — insert_record","text":"... List values add include new record. test_db connection test database (TRUE) (FALSE)? Defaults FALSE. new_id_prefix optional ID prefix new record (e.g. \"\" assets table). tbl_name name table record inserted.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/insert_record.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a new record into a database table — insert_record","text":"tibble one row containing newly-inserted record.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/porowhitahauwha-package.html","id":null,"dir":"Reference","previous_headings":"","what":"porowhitahauwha: Interact With Data About Facilities And Partners Within The Connected Communities Portfolio — porowhitahauwha-package","title":"porowhitahauwha: Interact With Data About Facilities And Partners Within The Connected Communities Portfolio — porowhitahauwha-package","text":"package allows authorised staff Auckland Council read write Porowhita Hauwhā, database stores information facilities, partners related data falls within Connected Communities portfolio.","code":""},{"path":[]},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/porowhitahauwha-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"porowhitahauwha: Interact With Data About Facilities And Partners Within The Connected Communities Portfolio — porowhitahauwha-package","text":"Maintainer: Lee Durbin lee.durbin@aucklandcouncil.govt.nz contributors: Auckland Council [copyright holder]","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_assets.html","id":null,"dir":"Reference","previous_headings":"","what":"Porowhita Hauwhā test data: assets — test_assets","title":"Porowhita Hauwhā test data: assets — test_assets","text":"subset data stored Porowhitā Hauwha table called assets. asset physical structure provides shelter public, typically building. data made available use package documentation examples, user explore kind information stored live Porowhita Hauwhā database.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_assets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Porowhita Hauwhā test data: assets — test_assets","text":"","code":"test_assets"},{"path":[]},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_assets.html","id":"-test-assets-","dir":"Reference","previous_headings":"","what":"'test_assets'","title":"Porowhita Hauwhā test data: assets — test_assets","text":"data frame 2 rows 9 columns: id Unique identifier. primary key table. name primary name asset. local_board Local Board asset located. asset_type asset standalone building, vehicle, type structure? physical_address physical address asset, including street name number (available). latitude latitude asset? longitude longitude asset? image url image asset, available.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_entities.html","id":null,"dir":"Reference","previous_headings":"","what":"Porowhita Hauwhā test data: entities — test_entities","title":"Porowhita Hauwhā test data: entities — test_entities","text":"subset data stored Porowhitā Hauwha table called entities. entity construct, assigned Auckland Council, groups together assets, spaces, services. data made available use package documentation examples, user explore kind information stored live Porowhita Hauwhā database.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_entities.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Porowhita Hauwhā test data: entities — test_entities","text":"","code":"test_entities"},{"path":[]},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_entities.html","id":"-test-entities-","dir":"Reference","previous_headings":"","what":"'test_entities'","title":"Porowhita Hauwhā test data: entities — test_entities","text":"data frame 1 row 2 columns: id Unique identifier. primary key table. name primary name entity.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_entity_bridge_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Porowhita Hauwhā test data: entity_bridge_table — test_entity_bridge_table","title":"Porowhita Hauwhā test data: entity_bridge_table — test_entity_bridge_table","text":"subset data stored Porowhitā Hauwha table called entity_bridge_table. entity composed least two records either assets, spaces, services tables. table joins entity assets, spaces, service formed. data made available use package documentation examples, user explore kind information stored live Porowhita Hauwhā database.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_entity_bridge_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Porowhita Hauwhā test data: entity_bridge_table — test_entity_bridge_table","text":"","code":"test_entity_bridge_table"},{"path":[]},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_entity_bridge_table.html","id":"-test-entity-bridge-table-","dir":"Reference","previous_headings":"","what":"'test_entity_bridge_table'","title":"Porowhita Hauwhā test data: entity_bridge_table — test_entity_bridge_table","text":"data frame 4 rows 7 columns: id Unique identifier. primary key table. facility_type Describes whether facility asset, space, entity. facility_id foreign key joining relevant facilities table, defined facility_type. entity_id foreign key joining entities table. valid_from date defining point time relationship established. valid_to date defining point time relationship disestablished. notes explanation relationship disestablished.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_facilities_attributes.html","id":null,"dir":"Reference","previous_headings":"","what":"Porowhita Hauwhā test data: facilities_attributes — test_facilities_attributes","title":"Porowhita Hauwhā test data: facilities_attributes — test_facilities_attributes","text":"subset data stored Porowhitā Hauwha table called facilities_attributes. need separate table store information (attributes) facilities assets, spaces, entities common fields; managing fields simplifies process managing data. data made available use package documentation examples, user explore kind information stored live Porowhita Hauwhā database.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_facilities_attributes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Porowhita Hauwhā test data: facilities_attributes — test_facilities_attributes","text":"","code":"test_facilities_attributes"},{"path":[]},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_facilities_attributes.html","id":"-test-facilities-attributes-","dir":"Reference","previous_headings":"","what":"'test_facilities_attributes'","title":"Porowhita Hauwhā test data: facilities_attributes — test_facilities_attributes","text":"data frame 5 rows 9 columns: id Unique identifier. primary key table. facility_type Describes whether facility asset, space, entity. facility_id foreign key joining relevant facilities table, defined facility_type. designation Describes function facility, example \"Rural Hall\", \"Community Library\", \"Room\" etc. delivery_model Categorises facility either community-led Council-led. community-led facility operated community partners. facility_ownership Describes whether facility owned Council, Kainga Ora, privately owned. staffed facility staffed opening hours (TRUE) (FALSE)? closed facility currently closed public (TRUE) (FALSE)? leased community lease agreement place facility (TRUE) (FALSE)?","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_facilities_attributes_bridge_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Porowhita Hauwhā test data: facilities_attributes_bridge_table — test_facilities_attributes_bridge_table","title":"Porowhita Hauwhā test data: facilities_attributes_bridge_table — test_facilities_attributes_bridge_table","text":"subset data stored Porowhitā Hauwha table called facilities_attributes_bridge_table. information facility updated, entry created table note changed, change occurred, changed.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_facilities_attributes_bridge_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Porowhita Hauwhā test data: facilities_attributes_bridge_table — test_facilities_attributes_bridge_table","text":"","code":"test_facilities_attributes_bridge_table"},{"path":[]},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_facilities_attributes_bridge_table.html","id":"-test-facilities-attributes-bridge-table-","dir":"Reference","previous_headings":"","what":"'test_facilities_attributes_bridge_table'","title":"Porowhita Hauwhā test data: facilities_attributes_bridge_table — test_facilities_attributes_bridge_table","text":"data frame 2 rows 9 columns: id Unique identifier. primary key table. facility_attribute_id Foreign key join facilities_attributes table. facility_type facility asset, space, entity? facility_id Foreign key joining assets, spaces, entities table. attribute field changed value? value changed value? valid_from date change take effect? valid_to change valid? notes reason change?","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Porowhita Hauwhā test data: names — test_names","title":"Porowhita Hauwhā test data: names — test_names","text":"subset data stored Porowhitā Hauwha table called names. facility, whether asset, space, entity, least one record table: name role \"primary\". facilities also least one name role \"alternate\" aware alternate names. primary name also name used relevant table, whether asset, space, entity. data made available use package documentation examples, user explore kind information stored live Porowhita Hauwhā database.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Porowhita Hauwhā test data: names — test_names","text":"","code":"test_names"},{"path":[]},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_names.html","id":"-test-names-","dir":"Reference","previous_headings":"","what":"'test_names'","title":"Porowhita Hauwhā test data: names — test_names","text":"data frame 7 rows 4 columns: id Unique identifier. primary key table. value name facility, categorised role field. role Categorises name stored value either primary alternate name used facility. facility can multiple alternate names. facilities_attributes_id foreign key joining facilities_attributes table, information facility found.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_partners.html","id":null,"dir":"Reference","previous_headings":"","what":"Porowhita Hauwhā test data: partners — test_partners","title":"Porowhita Hauwhā test data: partners — test_partners","text":"subset data stored Porowhitā Hauwha table called partners. Partners supported Auckland Council deliver services community. support typically codified agreement, described agreements table. Often sort funding provided partner Auckland Council part agreement, described funding table. Partners usually operate facility, may may . relationship partner facility facilities described partners_bridge_table. relationship Auckland Council partner managed Place Partner Specialist. Place Partner Specialist described staff table, attached facility operated partner hold relationship via staff_bridge_table. Finally, individuals associated partner described contacts table; include Chairperson, site manager (applicable), person respnsible reporting Key Performance Indicators Auckland Council defined agreement. possible, although unlikely, Chairperson, site manager, reporting contact individual. data made available use package documentation examples, user explore kind information stored live Porowhita Hauwhā database.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_partners.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Porowhita Hauwhā test data: partners — test_partners","text":"","code":"test_partners"},{"path":[]},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_partners.html","id":"-test-partners-","dir":"Reference","previous_headings":"","what":"'test_partners'","title":"Porowhita Hauwhā test data: partners — test_partners","text":"data frame 1 rows 6 columns: id Unique identifier. primary key table. name name partner. type partner Charitable Trust, Incorporated Society, ? facility_owner partner facility operate (TRUE) (FALSE)? service_provider partner provide services (TRUE) (FALSE)? legal_status_number Legal Status Number partner, available.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_spaces.html","id":null,"dir":"Reference","previous_headings":"","what":"Porowhita Hauwhā test data: spaces — test_spaces","title":"Porowhita Hauwhā test data: spaces — test_spaces","text":"subset data stored Porowhitā Hauwha table called spaces. space area services delivered public; space typically room. data made available use package documentation examples, user explore kind information stored live Porowhita Hauwhā database.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_spaces.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Porowhita Hauwhā test data: spaces — test_spaces","text":"","code":"test_spaces"},{"path":[]},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/test_spaces.html","id":"-test-spaces-","dir":"Reference","previous_headings":"","what":"'test_spaces'","title":"Porowhita Hauwhā test data: spaces — test_spaces","text":"data frame 4 rows 6 columns: id Unique identifier. primary key table. name primary name space. asset_id foreign key joining spaces assets. bookable bookable space? TRUE , FALSE . booking_method bookable space, booked? example, \"Sphere\". image url image asset, available.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/update_facility.html","id":null,"dir":"Reference","previous_headings":"","what":"Update a Facility in the Database — update_facility","title":"Update a Facility in the Database — update_facility","text":"Given facility name, list fields, corresponding list values, update facility information database.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/update_facility.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update a Facility in the Database — update_facility","text":"","code":"update_facility(facility_name = NULL, field, value, test_db = FALSE)"},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/update_facility.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update a Facility in the Database — update_facility","text":"facility_name name facility. Must primary name. field list field names whose values wish change. align value. value list values wish change. align field. test_db connection test database? Defaults FALSE.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/update_facility.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update a Facility in the Database — update_facility","text":"tibble one row containing record updated facility.","code":""},{"path":"https://auckland-council-cc-insights-team.github.io/porowhitahauwha/reference/update_facility.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Update a Facility in the Database — update_facility","text":"","code":"update_facility(   facility_name = \"Buckland Community Centre\",   field = list(\"physical_address\", \"designation\"),   value = list(\"Corner Logan and Buckville Road\", \"Community Centre\"),   test_db = TRUE   ) #> # A tibble: 1 × 10 #>   facility…¹ facil…² name  physi…³ local…⁴ desig…⁵ deliv…⁶ facil…⁷ closed leased #>   <chr>      <chr>   <chr> <chr>   <chr>   <chr>   <chr>   <chr>   <lgl>  <lgl>  #> 1 A26        FA174   Buck… Cnr Lo… Frankl… Rural … Commun… Privat… FALSE  FALSE  #> # … with abbreviated variable names ¹​facility_id, ²​facility_attribute_id, #> #   ³​physical_address, ⁴​local_board, ⁵​designation, ⁶​delivery_model, #> #   ⁷​facility_ownership"}]
